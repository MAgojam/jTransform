---
name:  jtWide2Long
title: Transform dataset from wide to long
menuGroup: Data
menuSubgroup: jTransform
version: '1.0.0'
jas: '1.2'

description:
    main: Transform dataset from wide to long
    R:
        dontrun: true
        usage: |
            # the function is a wrapper for jmvReadWrite::wide2long_omv
            # please use that function when in R (or in Rj)
            # for more information: https://sjentsch.github.io/jmvReadWrite

completeWhenFilled: true

options:
    - name: data
      type: Data

    - name:  mdeW2L
      title: "Mode"
      type:  List
      options:
        - name: Sep
          title: Separated
        - name: NSS
          title: Non-sep. (simple)
        - name: NSA
          title: Non-sep. (advanced)
      default: Sep

# =============================================================================

    - name:  id_Sep
      title: Variables that identify the same unit
      type:  Variables
      permitted:
        - numeric
        - factor
        - id
#      description:
#          R: >
#            variables that identify the same unit (e.g., an individual, a group,
#            an organization, etc.)

    - name:  xfmSep
      title: Variables to be transformed
      type:  Variables
      permitted:
        - numeric
        - factor
        - id
#      description:
#          R: >

    - name:  excSep
      title: Variables NOT to be transformed
      type:  Variables
      permitted:
        - numeric
        - factor
        - id
#      description:
#          R: >

    - name:  pfxSep
      title: Prefix
      type:  String
      default: "cond"
#      description:
#          R: >
#            variable that (is created to) differentiates multiple records from the
#            same unit (e.g., an individual, a group, an organization, etc.),
#            containing a counter for each time-varying event / record (e.g., cond
#            = 1)

    - name:  chrSep
      title: "Separator"
      type:  String
      default: "_"
#      description:
#          R: >
#            character that separates the fixed and the time-varying part of each
#            variable name ("VAR1_1", "VAR1_2")

    - name:  lvlSep
      title: "Exclude level"
      type:  String
      default: ""
#      description:
#          R: >

# =============================================================================

    - name:  id_NSS
      title: Variables that identify the same unit
      type:  Variables
      permitted:
        - numeric
        - factor
        - id
#      description:
#          R: >
#            variables that identify the same unit (e.g., an individual, a group,
#            an organization, etc.)

    - name:  xfmNSS
      title: Variables to be transformed
      type:  Variables

    - name:  excNSS
      title: Variables NOT to be transformed
      type:  Variables
      permitted:
        - numeric
        - factor
        - id
#      description:
#          R: >

    - name:  idxNSS
      title: Index for repeated measures levels
      type:  String
      default: "index"
      
    - name:  tgtNSS
      title: Name of the target variable
      type:  String
      default: "var"

# =============================================================================

    - name:  id_NSA
      title: Variables that identify the same unit
      type:  Variables
      permitted:
        - numeric
        - factor
        - id
#      description:
#          R: >
#            variables that identify the same unit (e.g., an individual, a group,
#            an organization, etc.)

    - name:  xfmNSA
      type:  Array
      default:
        - label: long_y
          vars: []
      template:
          type: Group
          elements:
            - name: label
              type: String
            - name: vars
              type: Variables

    - name:  excNSA
      title: Variables NOT to be transformed
      type:  Variables
      permitted:
        - numeric
        - factor
        - id
#      description:
#          R: >

    - name:  idxNSA
      type:  Array
      default:
        - var: index1
          levels: 0
      template:
          type: Group
          elements:
            - name: var
              type: String
            - name: levels
              type: Integer

# =============================================================================

    - name:  btnCrt
      type:  Action
      title: CREATE

...
